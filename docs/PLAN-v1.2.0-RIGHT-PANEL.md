# v1.2.0 å³ä¾§æ‰©å±•é¢æ¿ - è¯¦ç»†å®ç°è®¡åˆ’

## 1. åŠŸèƒ½æ¦‚è¿°

å³ä¾§é¢æ¿ä¸º Claude Code ä½¿ç”¨ä½“éªŒå¢å¼ºè®¾è®¡ï¼ŒåŒ…å« 6 ä¸ªç‹¬ç«‹åŠŸèƒ½æ¨¡å—ï¼š

| æ¨¡å— | åŠŸèƒ½å®šä½ |
|------|----------|
| Queue | å‘½ä»¤é˜Ÿåˆ—ç®¡ç†ï¼Œæ”¯æŒé¢„è¾“å…¥å’Œæ‰¹é‡æ‰§è¡Œ |
| Plugins | Claude Code æ’ä»¶æµè§ˆä¸ç®¡ç† |
| Skills | æŠ€èƒ½åˆ—è¡¨ä¸å¿«æ·è°ƒç”¨ |
| MCP | MCP æœåŠ¡å™¨çŠ¶æ€ç›‘æ§ä¸ç®¡ç† |
| Prompts | æç¤ºè¯æ¨¡æ¿åº“ç®¡ç† |
| AI | è½»é‡çº§ AI åŠ©æ‰‹ï¼ˆç‹¬ç«‹äº CC ä¼šè¯ï¼‰ |

---

## 2. æ–‡ä»¶ç»“æ„

```
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ services/                    # æ–°å¢ï¼šåç«¯æœåŠ¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ claude-config-reader.js  # è¯»å– ~/.claude é…ç½®
â”‚   â”‚   â”œâ”€â”€ plugin-service.js        # æ’ä»¶ç®¡ç†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ skill-service.js         # æŠ€èƒ½ç®¡ç†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ mcp-service.js           # MCP æœåŠ¡ç®¡ç†
â”‚   â”‚   â””â”€â”€ ai-assistant-service.js  # AI åŠ©æ‰‹æœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ ipc-handlers.js              # æ·»åŠ æ–° IPC handlers
â”‚   â””â”€â”€ config-manager.js            # æ·»åŠ  prompts/queue é…ç½®
â”‚
â”œâ”€â”€ preload/
â”‚   â””â”€â”€ preload.js                   # æš´éœ²æ–° API
â”‚
â””â”€â”€ renderer/
    â”œâ”€â”€ composables/                 # æ–°å¢ composables
    â”‚   â”œâ”€â”€ useCommandQueue.js       # å‘½ä»¤é˜Ÿåˆ—é€»è¾‘
    â”‚   â”œâ”€â”€ usePlugins.js            # æ’ä»¶ç®¡ç†é€»è¾‘
    â”‚   â”œâ”€â”€ useSkills.js             # æŠ€èƒ½ç®¡ç†é€»è¾‘
    â”‚   â”œâ”€â”€ useMCP.js                # MCP ç®¡ç†é€»è¾‘
    â”‚   â”œâ”€â”€ usePrompts.js            # æç¤ºè¯ç®¡ç†é€»è¾‘
    â”‚   â””â”€â”€ useAIAssistant.js        # AI åŠ©æ‰‹é€»è¾‘
    â”‚
    â””â”€â”€ pages/main/components/
        â”œâ”€â”€ RightPanel/              # å³ä¾§é¢æ¿é‡æ„
        â”‚   â”œâ”€â”€ index.vue            # é¢æ¿å®¹å™¨ + æ ‡ç­¾é¡µåˆ‡æ¢
        â”‚   â”œâ”€â”€ TabBar.vue           # æ ‡ç­¾æ ï¼ˆæ”¯æŒæº¢å‡ºï¼‰
        â”‚   â”œâ”€â”€ QuickInput.vue       # åº•éƒ¨å¿«é€Ÿè¾“å…¥
        â”‚   â”‚
        â”‚   â”œâ”€â”€ tabs/                # å„æ ‡ç­¾é¡µç»„ä»¶ï¼ˆç‹¬ç«‹ï¼‰
        â”‚   â”‚   â”œâ”€â”€ QueueTab.vue     # å‘½ä»¤é˜Ÿåˆ—
        â”‚   â”‚   â”œâ”€â”€ PluginsTab.vue   # æ’ä»¶ç®¡ç†
        â”‚   â”‚   â”œâ”€â”€ SkillsTab.vue    # æŠ€èƒ½åˆ—è¡¨
        â”‚   â”‚   â”œâ”€â”€ MCPTab.vue       # MCP çŠ¶æ€
        â”‚   â”‚   â”œâ”€â”€ PromptsTab.vue   # æç¤ºè¯åº“
        â”‚   â”‚   â””â”€â”€ AITab.vue        # AI åŠ©æ‰‹
        â”‚   â”‚
        â”‚   â””â”€â”€ shared/              # å…±äº«å­ç»„ä»¶
        â”‚       â”œâ”€â”€ EmptyState.vue   # ç©ºçŠ¶æ€å ä½
        â”‚       â”œâ”€â”€ ListItem.vue     # é€šç”¨åˆ—è¡¨é¡¹
        â”‚       â””â”€â”€ SearchBar.vue    # æœç´¢æ 
        â”‚
        â””â”€â”€ RightPanel.vue           # åˆ é™¤æ—§æ–‡ä»¶
```

---

## 3. æ¨¡å—è¯¦ç»†è®¾è®¡

### 3.1 RightPanel å®¹å™¨ (index.vue)

**èŒè´£**ï¼š
- ç®¡ç†æ ‡ç­¾é¡µåˆ‡æ¢çŠ¶æ€
- æä¾›å¸ƒå±€æ¡†æ¶ï¼ˆæ ‡ç­¾æ  + å†…å®¹åŒº + åº•éƒ¨è¾“å…¥ï¼‰
- å‘å­ç»„ä»¶ä¼ é€’å¿…è¦çš„å›è°ƒï¼ˆå¦‚å‘é€å‘½ä»¤åˆ°ç»ˆç«¯ï¼‰

**Props**ï¼š
```typescript
interface RightPanelProps {
  onSendCommand: (command: string) => void  // å‘é€å‘½ä»¤åˆ°ç»ˆç«¯
  terminalBusy: boolean                      // ç»ˆç«¯æ˜¯å¦å¿™ç¢Œ
  currentProject: Project | null             // å½“å‰é¡¹ç›®
}
```

**Emits**ï¼š
```typescript
'collapse'  // æŠ˜å é¢æ¿
```

**State**ï¼š
```typescript
{
  activeTab: 'queue' | 'plugins' | 'skills' | 'mcp' | 'prompts' | 'ai'
  tabs: TabDefinition[]
}
```

---

### 3.2 TabBar ç»„ä»¶ (TabBar.vue)

**èŒè´£**ï¼š
- æ˜¾ç¤ºæ ‡ç­¾æŒ‰é’®ï¼ˆå›¾æ ‡æ¨¡å¼ï¼‰
- å¤„ç†æº¢å‡ºï¼ˆæ›´å¤šèœå•ï¼‰
- æ ‡ç­¾åˆ‡æ¢

**è®¾è®¡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ“‹] [ğŸ”Œ] [âš¡] [ğŸ”—] [ğŸ’¬] [ğŸ¤–]       â”‚
â”‚  â†‘ å½“å‰é€‰ä¸­é«˜äº®                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æº¢å‡ºç­–ç•¥**ï¼š
- å®½åº¦ < 200pxï¼šæ˜¾ç¤ºå›¾æ ‡ + ä¸‹æ‹‰èœå•
- å®½åº¦ >= 200pxï¼šæ˜¾ç¤ºå…¨éƒ¨å›¾æ ‡

---

### 3.3 QuickInput ç»„ä»¶ (QuickInput.vue)

**èŒè´£**ï¼š
- åº•éƒ¨å›ºå®šçš„å¿«é€Ÿè¾“å…¥æ¡†
- å¿«æ·é”®æ”¯æŒ

**äº¤äº’**ï¼š
| æ“ä½œ | è¡Œä¸º |
|------|------|
| Enter | æ·»åŠ åˆ°é˜Ÿåˆ— |
| Ctrl+Enter | ç›´æ¥å‘é€åˆ°ç»ˆç«¯ï¼ˆå¦‚æœç©ºé—²ï¼‰ |
| Shift+Enter | æ¢è¡Œï¼ˆå¤šè¡Œè¾“å…¥ï¼‰ |
| Esc | æ¸…ç©ºè¾“å…¥ |

**Props**ï¼š
```typescript
interface QuickInputProps {
  onAddToQueue: (command: string) => void
  onSendDirect: (command: string) => void
  terminalBusy: boolean
}
```

---

### 3.4 QueueTab - å‘½ä»¤é˜Ÿåˆ—æ¨¡å—

**æ•°æ®å­˜å‚¨**ï¼šå†…å­˜ + localStorageï¼ˆå¯é€‰æŒä¹…åŒ–ï¼‰

**Composable: useCommandQueue.js**
```javascript
export function useCommandQueue() {
  // çŠ¶æ€
  const queue = ref([])           // å‘½ä»¤é˜Ÿåˆ—
  const history = ref([])         // æ‰§è¡Œå†å²
  const mode = ref('manual')      // manual | semi-auto | auto
  const settings = ref({
    autoDelay: 2000,
    showConfirm: true
  })

  // æ–¹æ³•
  function addCommand(command, options = {}) {}
  function removeCommand(id) {}
  function reorderCommands(fromIndex, toIndex) {}
  function sendNext() {}
  function sendCommand(id) {}
  function clearQueue() {}
  function importCommands(text) {}  // æ‰¹é‡å¯¼å…¥
  function exportCommands() {}

  // è‡ªåŠ¨å‘é€é€»è¾‘
  function onTerminalIdle() {}

  return { queue, history, mode, settings, ... }
}
```

**QueueTab.vue åŠŸèƒ½**ï¼š
- å‘½ä»¤åˆ—è¡¨ï¼ˆæ‹–æ‹½æ’åºï¼‰
- å•æ¡å‘é€/åˆ é™¤/ç¼–è¾‘
- æ‰¹é‡å¯¼å…¥ï¼ˆæ–‡æœ¬æ¡†ç²˜è´´ï¼‰
- æ‰§è¡Œå†å²æŸ¥çœ‹
- æ¨¡å¼åˆ‡æ¢ï¼ˆæ‰‹åŠ¨/åŠè‡ªåŠ¨/å…¨è‡ªåŠ¨ï¼‰
- è®¾ç½®ï¼ˆå»¶è¿Ÿæ—¶é—´ç­‰ï¼‰

**UI è®¾è®¡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å‘½ä»¤é˜Ÿåˆ—                    [âš™ï¸][ğŸ“¥] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¨¡å¼: [æ‰‹åŠ¨ â–¼]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â‰¡ 1. ä¿®å¤ç™»å½•é¡µé¢bug     [â–¶][Ã—] â”‚ â”‚
â”‚ â”‚ â‰¡ 2. æ·»åŠ å•å…ƒæµ‹è¯•        [â–¶][Ã—] â”‚ â”‚
â”‚ â”‚ â‰¡ 3. ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢      [â–¶][Ã—] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“œ æ‰§è¡Œå†å² (3)              [å±•å¼€] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.5 PluginsTab - æ’ä»¶ç®¡ç†æ¨¡å—

**æ•°æ®æ¥æº**ï¼š`~/.claude/plugins/` ç›®å½•

**Composable: usePlugins.js**
```javascript
export function usePlugins() {
  const plugins = ref([])
  const loading = ref(false)

  async function loadPlugins() {}
  async function togglePlugin(id, enabled) {}
  async function openPluginFolder() {}
  function filterPlugins(keyword) {}

  return { plugins, loading, ... }
}
```

**åç«¯æœåŠ¡: plugin-service.js**
```javascript
class PluginService {
  getPluginsDir() {}           // è·å–æ’ä»¶ç›®å½•è·¯å¾„
  listPlugins() {}             // åˆ—å‡ºæ‰€æœ‰æ’ä»¶
  getPluginInfo(id) {}         // è·å–æ’ä»¶è¯¦æƒ…
  setPluginEnabled(id, enabled) {}  // å¯ç”¨/ç¦ç”¨
}
```

**PluginsTab.vue åŠŸèƒ½**ï¼š
- æ’ä»¶åˆ—è¡¨ï¼ˆåç§°ã€æè¿°ã€çŠ¶æ€ï¼‰
- æœç´¢è¿‡æ»¤
- å¯ç”¨/ç¦ç”¨å¼€å…³
- æ‰“å¼€æ’ä»¶ç›®å½•
- æŸ¥çœ‹æ’ä»¶è¯¦æƒ…

**UI è®¾è®¡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”Œ Plugins                   [ğŸ“‚]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ” æœç´¢æ’ä»¶...]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“¦ code-review          [å¼€å…³] â”‚ â”‚
â”‚ â”‚    ä»£ç å®¡æŸ¥åŠ©æ‰‹                  â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ ğŸ“¦ git-helper           [å¼€å…³] â”‚ â”‚
â”‚ â”‚    Git æ“ä½œå¢å¼º                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.6 SkillsTab - æŠ€èƒ½ç®¡ç†æ¨¡å—

**æ•°æ®æ¥æº**ï¼šè§£æ `~/.claude/` ä¸‹çš„ skill å®šä¹‰

**Composable: useSkills.js**
```javascript
export function useSkills() {
  const skills = ref([])
  const categories = ref([])

  async function loadSkills() {}
  function insertSkill(skillName) {}  // æ’å…¥ /skill-name åˆ°ç»ˆç«¯
  function filterByCategory(category) {}

  return { skills, categories, ... }
}
```

**SkillsTab.vue åŠŸèƒ½**ï¼š
- æŠ€èƒ½åˆ—è¡¨ï¼ˆæŒ‰åˆ†ç±»ï¼‰
- æœç´¢è¿‡æ»¤
- ç‚¹å‡»æ’å…¥åˆ°ç»ˆç«¯/Quick Input
- æŸ¥çœ‹æŠ€èƒ½è¯´æ˜

**UI è®¾è®¡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš¡ Skills                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ” æœç´¢æŠ€èƒ½...]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ ä»£ç ç”Ÿæˆ                          â”‚
â”‚   /implement - å®ç°åŠŸèƒ½             â”‚
â”‚   /refactor - é‡æ„ä»£ç               â”‚
â”‚ â–¼ Git æ“ä½œ                          â”‚
â”‚   /commit - æäº¤æ›´æ”¹                â”‚
â”‚   /pr - åˆ›å»º PR                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.7 MCPTab - MCP æœåŠ¡ç®¡ç†æ¨¡å—

**æ•°æ®æ¥æº**ï¼š
- å…¨å±€ï¼š`~/.claude/.mcp.json`
- é¡¹ç›®ï¼š`{project}/.mcp.json`

**Composable: useMCP.js**
```javascript
export function useMCP(projectPath) {
  const servers = ref([])
  const globalServers = ref([])
  const projectServers = ref([])

  async function loadServers() {}
  async function checkServerStatus(id) {}
  async function restartServer(id) {}
  function openConfig() {}

  return { servers, ... }
}
```

**åç«¯æœåŠ¡: mcp-service.js**
```javascript
class MCPService {
  loadGlobalConfig() {}
  loadProjectConfig(projectPath) {}
  getServerStatus(serverConfig) {}
  // æ³¨ï¼šå®é™…çš„ MCP è¿æ¥ç”± Claude Code CLI ç®¡ç†
}
```

**MCPTab.vue åŠŸèƒ½**ï¼š
- æœåŠ¡å™¨åˆ—è¡¨ï¼ˆå…¨å±€ + é¡¹ç›®çº§ï¼‰
- è¿æ¥çŠ¶æ€æŒ‡ç¤º
- å¿«é€Ÿæ“ä½œï¼ˆæŸ¥çœ‹é…ç½®ï¼‰
- åˆ·æ–°çŠ¶æ€

**UI è®¾è®¡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”— MCP Servers              [ğŸ”„]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ å…¨å±€                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸŸ¢ filesystem    å·²è¿æ¥         â”‚ â”‚
â”‚ â”‚ ğŸŸ¡ github        è¿æ¥ä¸­...      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ é¡¹ç›®: cc-desktop                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸŸ¢ sqlite        å·²è¿æ¥         â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.8 PromptsTab - æç¤ºè¯æ¨¡æ¿æ¨¡å—

**æ•°æ®å­˜å‚¨**ï¼š`config.json` ä¸­çš„ `prompts` å­—æ®µ

**Composable: usePrompts.js**
```javascript
export function usePrompts() {
  const prompts = ref([])
  const categories = ref([])

  async function loadPrompts() {}
  async function savePrompt(prompt) {}
  async function deletePrompt(id) {}
  async function updatePrompt(id, data) {}
  function insertPrompt(id) {}  // æ’å…¥åˆ°ç»ˆç«¯
  function filterPrompts(keyword, category) {}

  return { prompts, categories, ... }
}
```

**æ•°æ®ç»“æ„**ï¼š
```javascript
{
  prompts: [
    {
      id: 'uuid',
      name: 'ä»£ç å®¡æŸ¥',
      content: 'è¯·å®¡æŸ¥ä»¥ä¸‹ä»£ç ï¼Œå…³æ³¨...',
      category: 'ä»£ç è´¨é‡',
      shortcut: 'Ctrl+Shift+R',  // å¯é€‰å¿«æ·é”®
      createdAt: timestamp,
      updatedAt: timestamp
    }
  ]
}
```

**PromptsTab.vue åŠŸèƒ½**ï¼š
- æç¤ºè¯åˆ—è¡¨ï¼ˆæŒ‰åˆ†ç±»ï¼‰
- æœç´¢è¿‡æ»¤
- æ–°å»º/ç¼–è¾‘/åˆ é™¤
- ç‚¹å‡»æ’å…¥åˆ°ç»ˆç«¯/Quick Input
- å¿«æ·é”®ç»‘å®šï¼ˆå¯é€‰ï¼‰

**UI è®¾è®¡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¬ Prompts                   [â•]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ” æœç´¢...] [åˆ†ç±» â–¼]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“ ä»£ç å®¡æŸ¥              [æ’å…¥] â”‚ â”‚
â”‚ â”‚    è¯·å®¡æŸ¥ä»¥ä¸‹ä»£ç ...            â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ ğŸ“ Bug ä¿®å¤æ¨¡æ¿          [æ’å…¥] â”‚ â”‚
â”‚ â”‚    è¯·ä¿®å¤è¿™ä¸ª bug...            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.9 AITab - AI åŠ©æ‰‹æ¨¡å—

**å®šä½**ï¼šç‹¬ç«‹äº Claude Code ä¼šè¯çš„è½»é‡åŠ©æ‰‹

**Composable: useAIAssistant.js**
```javascript
export function useAIAssistant() {
  const messages = ref([])
  const loading = ref(false)
  const model = ref('haiku')  // ä½¿ç”¨è½»é‡æ¨¡å‹

  async function sendMessage(content) {}
  function clearHistory() {}
  function copyResponse(messageId) {}

  return { messages, loading, ... }
}
```

**åç«¯æœåŠ¡: ai-assistant-service.js**
```javascript
class AIAssistantService {
  constructor(apiConfig) {}

  async chat(messages, options = {}) {
    // è°ƒç”¨ Anthropic API
    // ä½¿ç”¨é…ç½®ä¸­çš„ API Key
  }
}
```

**AITab.vue åŠŸèƒ½**ï¼š
- ç®€å•å¯¹è¯ç•Œé¢
- æ¶ˆæ¯å†å²
- å¤åˆ¶å“åº”
- æ¸…ç©ºå†å²
- æ¨¡å‹é€‰æ‹©ï¼ˆå¯é€‰ï¼‰

**ä½¿ç”¨åœºæ™¯**ï¼š
- æŸ¥è¯¢æ–‡æ¡£/API ç”¨æ³•
- æ„æ€ä¸‹ä¸€æ­¥ CC æŒ‡ä»¤
- è§£é‡Š CC è¾“å‡º
- å¿«é€Ÿé—®ç­”ï¼ˆä¸å ç”¨ CC ä¸Šä¸‹æ–‡ï¼‰

**UI è®¾è®¡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– AI Assistant            [ğŸ—‘ï¸]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ‘¤ å¦‚ä½•åœ¨ Vue ä¸­ä½¿ç”¨ refï¼Ÿ      â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ ğŸ¤– åœ¨ Vue 3 ä¸­ï¼Œref ç”¨äº...    â”‚ â”‚
â”‚ â”‚    ```javascript               â”‚ â”‚
â”‚ â”‚    import { ref } from 'vue'   â”‚ â”‚
â”‚ â”‚    ```                  [å¤åˆ¶] â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [è¾“å…¥é—®é¢˜...]               [å‘é€] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. IPC æ¥å£è®¾è®¡

### æ–°å¢ IPC Handlers

```javascript
// plugin-related
'plugins:list'           // è·å–æ’ä»¶åˆ—è¡¨
'plugins:getInfo'        // è·å–æ’ä»¶è¯¦æƒ…
'plugins:setEnabled'     // å¯ç”¨/ç¦ç”¨æ’ä»¶
'plugins:openFolder'     // æ‰“å¼€æ’ä»¶ç›®å½•

// skill-related
'skills:list'            // è·å–æŠ€èƒ½åˆ—è¡¨

// mcp-related
'mcp:getServers'         // è·å– MCP æœåŠ¡å™¨åˆ—è¡¨
'mcp:getStatus'          // è·å–æœåŠ¡å™¨çŠ¶æ€
'mcp:openConfig'         // æ‰“å¼€é…ç½®æ–‡ä»¶

// prompts-related
'prompts:list'           // è·å–æç¤ºè¯åˆ—è¡¨
'prompts:save'           // ä¿å­˜æç¤ºè¯
'prompts:delete'         // åˆ é™¤æç¤ºè¯
'prompts:update'         // æ›´æ–°æç¤ºè¯

// ai-assistant-related
'ai:chat'                // AI å¯¹è¯
```

---

## 5. é…ç½®ç»“æ„æ‰©å±•

```javascript
// config.json æ–°å¢å­—æ®µ
{
  // ç°æœ‰å­—æ®µ...

  // å‘½ä»¤é˜Ÿåˆ—é…ç½®
  commandQueue: {
    mode: 'manual',        // manual | semi-auto | auto
    autoDelay: 2000,
    showConfirm: true,
    persistQueue: false    // æ˜¯å¦æŒä¹…åŒ–é˜Ÿåˆ—
  },

  // æç¤ºè¯æ¨¡æ¿
  prompts: [
    {
      id: 'uuid',
      name: 'æ¨¡æ¿åç§°',
      content: 'æ¨¡æ¿å†…å®¹',
      category: 'åˆ†ç±»',
      createdAt: timestamp,
      updatedAt: timestamp
    }
  ],

  // AI åŠ©æ‰‹é…ç½®
  aiAssistant: {
    enabled: true,
    model: 'claude-3-haiku-20240307',
    maxTokens: 1024
  }
}
```

---

## 6. å¼€å‘é˜¶æ®µåˆ’åˆ†

### Phase 1: åŸºç¡€æ¡†æ¶ (é¢„è®¡å·¥ä½œé‡: ä¸­)

**ç›®æ ‡**ï¼šå®Œæˆé¢æ¿æ¡†æ¶å’Œæ ‡ç­¾é¡µåˆ‡æ¢

**ä»»åŠ¡**ï¼š
1. é‡æ„ RightPanel ç›®å½•ç»“æ„
2. å®ç° TabBar ç»„ä»¶ï¼ˆå›¾æ ‡æ¨¡å¼ï¼‰
3. å®ç° QuickInput ç»„ä»¶
4. åˆ›å»ºå„ Tab å ä½ç»„ä»¶
5. æ·»åŠ å›½é™…åŒ–æ–‡æœ¬

**äº§å‡º**ï¼š
- å¯åˆ‡æ¢çš„ 6 ä¸ªç©ºæ ‡ç­¾é¡µ
- åº•éƒ¨å¿«é€Ÿè¾“å…¥å¯ç”¨
- æŠ˜å /å±•å¼€æ­£å¸¸å·¥ä½œ

---

### Phase 2: å‘½ä»¤é˜Ÿåˆ— (é¢„è®¡å·¥ä½œé‡: ä¸­)

**ç›®æ ‡**ï¼šå®Œæˆ Queue åŠŸèƒ½

**ä»»åŠ¡**ï¼š
1. å®ç° useCommandQueue composable
2. å®ç° QueueTab.vue
3. æ·»åŠ æ‹–æ‹½æ’åº
4. å®ç°ä¸‰ç§å‘é€æ¨¡å¼
5. é›†æˆ Quick Input
6. æ·»åŠ æ‰§è¡Œå†å²

**äº§å‡º**ï¼š
- å®Œæ•´çš„å‘½ä»¤é˜Ÿåˆ—åŠŸèƒ½
- å¯é…ç½®çš„å‘é€æ¨¡å¼

---

### Phase 3: æç¤ºè¯ç®¡ç† (é¢„è®¡å·¥ä½œé‡: ä¸­)

**ç›®æ ‡**ï¼šå®Œæˆ Prompts åŠŸèƒ½

**ä»»åŠ¡**ï¼š
1. æ‰©å±• config-manager æ”¯æŒ prompts
2. å®ç° usePrompts composable
3. å®ç° PromptsTab.vue
4. å®ç°æ–°å»º/ç¼–è¾‘å¼¹çª—
5. å®ç°åˆ†ç±»ç®¡ç†
6. å®ç°æ’å…¥åˆ°ç»ˆç«¯

**äº§å‡º**ï¼š
- æç¤ºè¯ CRUD åŠŸèƒ½
- ä¸€é”®æ’å…¥åˆ°ç»ˆç«¯

---

### Phase 4: CC å¢å¼ºåŠŸèƒ½ (é¢„è®¡å·¥ä½œé‡: é«˜)

**ç›®æ ‡**ï¼šå®Œæˆ Plugins / Skills / MCP åŠŸèƒ½

**ä»»åŠ¡**ï¼š
1. å®ç° claude-config-reader æœåŠ¡
2. å®ç° plugin-service / skill-service / mcp-service
3. æ·»åŠ  IPC handlers
4. å®ç°ä¸‰ä¸ª Tab ç»„ä»¶
5. å®ç°çŠ¶æ€ç›‘æ§

**äº§å‡º**ï¼š
- æ’ä»¶æµè§ˆä¸ç®¡ç†
- æŠ€èƒ½å¿«æ·è°ƒç”¨
- MCP çŠ¶æ€ç›‘æ§

**æ³¨æ„**ï¼š
- è¿™äº›åŠŸèƒ½ä¾èµ– Claude Code CLI çš„é…ç½®æ–‡ä»¶ç»“æ„
- éœ€è¦ç ”ç©¶ `~/.claude/` ç›®å½•ç»“æ„

---

### Phase 5: AI åŠ©æ‰‹ (é¢„è®¡å·¥ä½œé‡: é«˜)

**ç›®æ ‡**ï¼šå®Œæˆ AI åŠ©æ‰‹åŠŸèƒ½

**ä»»åŠ¡**ï¼š
1. å®ç° ai-assistant-service
2. å®ç° useAIAssistant composable
3. å®ç° AITab.vue
4. å®ç° Markdown æ¸²æŸ“
5. å®ç°ä»£ç é«˜äº®
6. æ·»åŠ é…ç½®é€‰é¡¹

**äº§å‡º**ï¼š
- ç‹¬ç«‹ AI å¯¹è¯åŠŸèƒ½
- Markdown æ”¯æŒ

**ä¾èµ–**ï¼š
- éœ€è¦æœ‰æ•ˆçš„ API Key
- å¤ç”¨ç°æœ‰ API é…ç½®

---

## 7. æŠ€æœ¯è¦ç‚¹

### 7.1 æ¨¡å—ç‹¬ç«‹æ€§åŸåˆ™

æ¯ä¸ªæ¨¡å—åº”éµå¾ªï¼š

1. **ç‹¬ç«‹ Composable**ï¼šé€»è¾‘ä¸çŠ¶æ€å°è£…åœ¨ composable ä¸­
2. **ç‹¬ç«‹ç»„ä»¶**ï¼šTab ç»„ä»¶åªä¾èµ–è‡ªå·±çš„ composable
3. **ç‹¬ç«‹æœåŠ¡**ï¼šåç«¯æœåŠ¡ç‹¬ç«‹ï¼Œé€šè¿‡ IPC é€šä¿¡
4. **ç‹¬ç«‹æµ‹è¯•**ï¼šå¯å•ç‹¬æµ‹è¯•æ¯ä¸ªæ¨¡å—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tab.vue    â”‚ â”€â”€â–¶ â”‚ useXxx.js   â”‚ â”€â”€â–¶ â”‚ IPC Handler â”‚
â”‚  (è§†å›¾å±‚)   â”‚     â”‚ (é€»è¾‘å±‚)    â”‚     â”‚ (æœåŠ¡å±‚)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.2 å…±äº«ç»„ä»¶å¤ç”¨

`shared/` ç›®å½•ä¸‹çš„ç»„ä»¶å¯è¢«å¤šä¸ª Tab å¤ç”¨ï¼š

- `EmptyState.vue` - ç©ºçŠ¶æ€æ˜¾ç¤º
- `ListItem.vue` - é€šç”¨åˆ—è¡¨é¡¹
- `SearchBar.vue` - æœç´¢æ 

### 7.3 äº‹ä»¶é€šä¿¡

Tab ä¸çˆ¶ç»„ä»¶é€šè¿‡ props/emits é€šä¿¡ï¼š

```javascript
// å‘é€å‘½ä»¤åˆ°ç»ˆç«¯
props.onSendCommand(command)

// æ’å…¥åˆ° Quick Input
emit('insert-to-input', text)
```

### 7.4 ä¸»é¢˜é€‚é…

æ‰€æœ‰ç»„ä»¶ä½¿ç”¨ CSS å˜é‡ï¼Œè‡ªåŠ¨é€‚é…æ·±è‰²/æµ…è‰²ä¸»é¢˜ï¼š

```css
.tab-content {
  background: var(--bg-color-secondary);
  color: var(--text-color);
  border-color: var(--border-color);
}
```

---

## 8. é£é™©ä¸æ³¨æ„äº‹é¡¹

1. **Claude Code é…ç½®å…¼å®¹æ€§**
   - `~/.claude/` ç›®å½•ç»“æ„å¯èƒ½éš CC ç‰ˆæœ¬å˜åŒ–
   - éœ€è¦åšå¥½å…¼å®¹å¤„ç†å’Œé”™è¯¯æç¤º

2. **API è°ƒç”¨é™æµ**
   - AI åŠ©æ‰‹åŠŸèƒ½éœ€è¦è€ƒè™‘ API é™æµ
   - å»ºè®®æ·»åŠ è¯·æ±‚é˜Ÿåˆ—å’Œé‡è¯•æœºåˆ¶

3. **æ€§èƒ½è€ƒè™‘**
   - æ’ä»¶/æŠ€èƒ½åˆ—è¡¨å¯èƒ½è¾ƒå¤§ï¼Œéœ€è¦è™šæ‹Ÿæ»šåŠ¨
   - MCP çŠ¶æ€è½®è¯¢ä¸å®œè¿‡äºé¢‘ç¹

4. **ç”¨æˆ·æ•°æ®å®‰å…¨**
   - æç¤ºè¯æ¨¡æ¿å­˜å‚¨åœ¨æœ¬åœ°
   - AI å¯¹è¯å†å²ä¸æŒä¹…åŒ–ï¼ˆæˆ–å¯é…ç½®ï¼‰

---

## 9. éªŒæ”¶æ ‡å‡†

### Phase 1 éªŒæ”¶
- [ ] 6 ä¸ªæ ‡ç­¾é¡µå¯æ­£å¸¸åˆ‡æ¢
- [ ] Quick Input å¯è¾“å…¥å¹¶è§¦å‘å›è°ƒ
- [ ] æŠ˜å /å±•å¼€åŠ¨ç”»æµç•…
- [ ] æ·±è‰²/æµ…è‰²ä¸»é¢˜æ­£å¸¸

### Phase 2 éªŒæ”¶
- [ ] å‘½ä»¤å¯æ·»åŠ ã€åˆ é™¤ã€æ’åº
- [ ] ä¸‰ç§å‘é€æ¨¡å¼å¯åˆ‡æ¢
- [ ] å‘½ä»¤å¯å‘é€åˆ°ç»ˆç«¯
- [ ] æ‰§è¡Œå†å²å¯æŸ¥çœ‹

### Phase 3 éªŒæ”¶
- [ ] æç¤ºè¯ CRUD æ­£å¸¸
- [ ] åˆ†ç±»ç­›é€‰æ­£å¸¸
- [ ] ä¸€é”®æ’å…¥åˆ°ç»ˆç«¯æ­£å¸¸

### Phase 4 éªŒæ”¶
- [ ] æ’ä»¶åˆ—è¡¨å¯è¯»å–æ˜¾ç¤º
- [ ] æŠ€èƒ½åˆ—è¡¨å¯è¯»å–æ˜¾ç¤º
- [ ] MCP çŠ¶æ€å¯æ˜¾ç¤º
- [ ] é”™è¯¯å¤„ç†å‹å¥½

### Phase 5 éªŒæ”¶
- [ ] AI å¯¹è¯æ­£å¸¸
- [ ] Markdown æ¸²æŸ“æ­£å¸¸
- [ ] å¤åˆ¶åŠŸèƒ½æ­£å¸¸
- [ ] é…ç½®å¯ä¿®æ”¹

---

## 10. æ—¶é—´çº¿å»ºè®®

| é˜¶æ®µ | å†…å®¹ | å»ºè®®é¡ºåº |
|------|------|----------|
| Phase 1 | åŸºç¡€æ¡†æ¶ | ç¬¬ 1 å‘¨ |
| Phase 2 | å‘½ä»¤é˜Ÿåˆ— | ç¬¬ 2 å‘¨ |
| Phase 3 | æç¤ºè¯ç®¡ç† | ç¬¬ 3 å‘¨ |
| Phase 4 | CC å¢å¼ºåŠŸèƒ½ | ç¬¬ 4-5 å‘¨ |
| Phase 5 | AI åŠ©æ‰‹ | ç¬¬ 6 å‘¨ |

---

*æ–‡æ¡£ç‰ˆæœ¬: v1.0*
*åˆ›å»ºæ—¥æœŸ: 2026-01-19*
